<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>THE MACROPOD</title>
  <style>
	body {
	  margin: 0;
	  font-family: Arial, Helvetica, sans-serif;
	}

	.topnav {
	  overflow: hidden;
	  background-color: #333;
	}

	.topnav a {
	  float: left;
	  color: #f2f2f2;
	  text-align: center;
	  padding: 14px 16px;
	  text-decoration: none;
	  font-size: 17px;
	}

	.topnav a:hover {
	  background-color: #ddd;
	  color: black;
	}

	.topnav a.active {
	  background-color: #4CAF50;
	  color: white;
	}
	</style>
</head>
<body>
	<div class="topnav">
		<a href="index.html">Home</a>
		<a href="music.html">Music</a>
		<a href="books.html">Books</a>
		<a class="active" href="guides.html">Guides</a>
	</div>
	<h1>How to Create an HTML Table from youtube playlist</h1>
	<p>The goal is to create an html table from the content of a youtube playlist. This method can be used to make a directory of videos that is easy to manage (outside of the youtube website itself), or to create documents that contain all the links to youtube videos. This can be done easily in python. </p>
	
	<h2>Youtube-dl</h2>
	<p>youtube-dl is a useful command line tool / python api that can fetch youtube videos and download them. Here it will be used to create a list of video id's from a link to a playlist on youtube. First, we need to install youtube-dl using pip:
	<p><code>sudo pip install --upgrade youtube_dl</code></p>
	Now to fetch the list of video id's use the command:
	<p><code>youtube-dl --get-id PLAYLISTLINK -i </code></p>
	You should pipe the output of this command into a file to use later. Alternatively, one could run this command from inside of a python script and deal with the output directly. Now, load the file into python and read over it in a loop. For each video id, we need to add the rest of the youtube link (http://www.youtube.com/watch?v=) then open this link and extract the title. 
	<p><code>	import lxml
			from lxml import etree
			import urllib
			y = etree.HTML(urllib.open(FULL_LINK).read())
			title = y.xpath("//span[@id='eow-title']/@title")
			title = ''.join(title)
			title = title.encode('ascii', errors='ignore') #remove bad chars
	</code></p>
	This code will give the title of a video from its video id. These can be added to a dataframe, after which the function <code>df.to_html(filename)</code> can be used to create a table.
				
  <footer>Test</footer>
</body>
</html>
